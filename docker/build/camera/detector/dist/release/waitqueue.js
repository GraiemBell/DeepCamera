function processWaitQueue(){wait_detect_queue.length<1?ON_DEBUG&&console.log("empty wait queue"):deepeye.getQueueLenth(function(e,t){if(e)console.log(e);else if(t<1){var u=wait_detect_queue.shift();deepeye.processSavedTask(u.cameraId,u.filepath,u.ts,function(e,t,i){e&&console.log(e),trackerId=u.ts,ON_DEBUG&&console.log(">>>>> "+JSON.stringify(i)),t>0&&deepeye.embedding(i,trackerId)}),ON_DEBUG&&console.log(">>>>get one task: "+JSON.stringify(u))}})}var deepeye=require("./deepeye"),wait_detect_queue=[],ON_DEBUG=!1,processWaitQueueInterval=null;module.exports={init:function(){wait_detect_queue=[],processWaitQueueInterval=setInterval(processWaitQueue,1e3),console.log("wait detect queue init ")},waitQueueInsert:function(e){wait_detect_queue.push(e),ON_DEBUG&&console.log(">>>>waitQueueInsert "+JSON.stringify(e)+" "+wait_detect_queue.length)}};